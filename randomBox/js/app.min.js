function testWebP(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function ibg(){let e=document.querySelectorAll("._ibg");for(var t=0;t<e.length;t++)e[t].querySelector("img")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}document.addEventListener("DOMContentLoaded",()=>{const e=[...document.querySelectorAll(".hero__bg")];if(e.length>0){let o=0;function t(t){e.forEach(e=>e.classList.remove("_active")),t===e.length-1?(e[t].classList.add("_active"),o=0):(e[t].classList.add("_active"),o++)}t(o),setInterval(()=>{t(o)},2e3)}const o=document.querySelector(".hero__form"),n=document.querySelector(".hero__mistake");o&&o.addEventListener("submit",(function(e){e.preventDefault();const t=document.querySelector('input[name="code"]').value;"4k9h46p336"===t?(localStorage.setItem("code","4k9h46p336"),window.open(window.location.href.replace(/index.html/gi,"")+"roulette.html","_self")):"everyred"===t?(localStorage.setItem("code","everyred"),window.open(window.location.href.replace(/index.html/gi,"")+"roulette.html","_self")):n.textContent=""===t?n.dataset.zero:n.dataset.mistake}));const c=document.querySelector(".footer__btn"),l=document.querySelector(".footer__copy").textContent,r=document.querySelector(".popup-copy"),i=document.querySelector(".popup-error");c.addEventListener("click",()=>{navigator.clipboard.writeText(l).then((function(){r.classList.add("_active"),setTimeout(()=>{r.classList.remove("_active")},1500)}),(function(){i.classList.add("_active"),setTimeout(()=>{i.classList.remove("_active")},1500)}))});const s=[{class:"dark-blue",width:60,color:"darkblue",colorName:"темно синий",scr:"ATVs/01.jpg"},{class:"blue",width:40,color:"blue",colorName:"синий",scr:"ATVs/02.png"},{class:"purple",width:30,color:"purple",colorName:"фиолетовый",scr:"ATVs/03.jpg"},{class:"yellow",width:20,color:"yellow",colorName:"жёлтый",scr:"ATVs/04.jpg"},{class:"orange",width:10,color:"orange",colorName:"оранжевый",scr:"ATVs/05.png"},{class:"red",width:5,color:"red",colorName:"красный",scr:"ATVs/06.jpg"}],a=document.querySelector(".random__wrapper");if(a){"everyred"===localStorage.getItem("code")&&(document.querySelector(".redVersion").textContent="¿"),s.forEach(e=>{const t=document.createElement("div");t.className="box box_"+e.class,t.style.width=10*e.width+"px",a.append(t),function(e){const t=document.createElement("div");t.className="popup popup_"+e.class,document.body.append(t),t.insertAdjacentHTML("afterBegin",`\n            <div class="popup__content _container">\n                <div class="popup__body">\n                    <h3 class="popup__title">Поздравляю! Ты выиграл <span>${e.colorName}</span> квадроцикл!</h3>\n                    <div class="popup__img"><img src="./img/${e.scr}" alt="ATVs"></div>\n                    <div class="popup__button"><a href="#" class="popup__btn">Получить</a></div>\n                    <div class="popup__close"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="121.31px" height="122.876px" viewBox="0 0 121.31 122.876" enable-background="new 0 0 121.31 122.876" xml:space="preserve"><g><path fill-rule="darkblue" fill='${e.color}' clip-rule="darkblue" d="M90.914,5.296c6.927-7.034,18.188-7.065,25.154-0.068 c6.961,6.995,6.991,18.369,0.068,25.397L85.743,61.452l30.425,30.855c6.866,6.978,6.773,18.28-0.208,25.247 c-6.983,6.964-18.21,6.946-25.074-0.031L60.669,86.881L30.395,117.58c-6.927,7.034-18.188,7.065-25.154,0.068 c-6.961-6.995-6.992-18.369-0.068-25.397l30.393-30.827L5.142,30.568c-6.867-6.978-6.773-18.28,0.208-25.247 c6.983-6.963,18.21-6.946,25.074,0.031l30.217,30.643L90.914,5.296L90.914,5.296z"/></g></svg></div>\n                </div>\n            </div>\n            `)}(e)})}const d=document.querySelector(".random__btn_go"),u=document.querySelector(".random__btn_get");let p;let m=!0;function h(e){setTimeout(()=>{document.querySelector(".popup_"+p.class).classList.add("_active"),document.body.classList.add("hidden"),d.disabled=!1,u.disabled=!1,document.body.style.paddingRight=(()=>{const e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",e.style.visibility="hidden",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t})()+"px"},e)}function g(){a.style.transition="0s",a.style.transform="translateX(0)",setTimeout(()=>{a.style.transition="all 2.5s linear",p=function(e){const t=[],o=e.reduce((e,o)=>(t.push(e+o.width),e+o.width),0);let n,c;return"everyred"===localStorage.getItem("code")?(n=o-s[s.length-1].width+Math.random()*s[s.length-1].width,c=e.find((e,o)=>t[o]>=n)):(n=Math.random()*o,c=e.find((e,o)=>t[o]>=n)),a.style.transform=`translateX(-${10*Math.round(n)}px)`,c}(s)},0),d.disabled=!0,u.disabled=!0,m=!1,h(3e3),setTimeout(()=>{u.classList.add("_active")},3e3),u.addEventListener("click",()=>{m=!1,h(0)})}if("roulette.html"===window.location.href.slice(window.location.href.length-13)){d.addEventListener("click",g),document.addEventListener("keydown",(function(e){"Enter"===e.key&&m&&g()}));document.querySelectorAll(".popup").forEach(e=>{e.querySelector(".popup__close").addEventListener("click",()=>{e.classList.remove("_active"),document.body.classList.remove("hidden"),document.body.style.paddingRight="0px",m=!0})})}}),testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),function(){let e=[],t=document.querySelectorAll("[data-da]"),o=[],n=[];if(t.length>0){let s=0;for(let n=0;n<t.length;n++){const c=t[n],i=c.getAttribute("data-da");if(""!=i){const t=i.split(","),n=t[1]?t[1].trim():"last",a=t[2]?t[2].trim():"767",d="min"===t[3]?t[3].trim():"max",u=document.querySelector("."+t[0].trim());t.length>0&&u&&(c.setAttribute("data-da-index",s),e[s]={parent:c.parentNode,index:(l=c,r=void 0,r=Array.prototype.slice.call(l.parentNode.children),r.indexOf(l))},o[s]={element:c,destination:document.querySelector("."+t[0].trim()),place:n,breakpoint:a,type:d},s++)}}(c=o).sort((function(e,t){return e.breakpoint>t.breakpoint?-1:1})),c.sort((function(e,t){return e.place>t.place?1:-1}));for(let e=0;e<o.length;e++){const t=o[e],c=t.breakpoint,l=t.type;n.push(window.matchMedia("("+l+"-width: "+c+"px)")),n[e].addListener(i)}}var c,l,r;function i(e){for(let e=0;e<o.length;e++){const t=o[e],c=t.element,l=t.destination,r=t.place,i="_dynamic_adapt_"+t.breakpoint;if(n[e].matches){if(!c.classList.contains(i)){let e=a(l)[r];"first"===r?e=a(l)[0]:"last"===r&&(e=a(l)[a(l).length]),l.insertBefore(c,l.children[e]),c.classList.add(i)}}else c.classList.contains(i)&&(s(c),c.classList.remove(i))}}function s(t){const o=t.getAttribute("data-da-index"),n=e[o],c=n.parent,l=n.index,r=a(c,!0)[l];c.insertBefore(t,c.children[r])}function a(e,t){const o=e.children,n=[];for(let e=0;e<o.length;e++){const c=o[e];(t||null==c.getAttribute("data-da"))&&n.push(e)}return n}i()}(),ibg();